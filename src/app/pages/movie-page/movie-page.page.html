<ion-header>
  <ion-toolbar>
    <ion-buttons slot="start">
      <ion-back-button defaultHref="/"></ion-back-button>
    </ion-buttons>
    <ion-title>{{movieDetails.title}}</ion-title>
  </ion-toolbar>
</ion-header>

<ion-content>
  <div>
    <img src="{{posterUrl}}{{movieDetails.poster_path}}" />
  </div>
  <!-- <div *ngFor="let item of movieDetails | keyvalue">{{item.value}}</div> -->
  <h6>{{movieDetails.release_date | slice:0:4}}</h6>
  <div *ngFor="let item of movieDetails.genres | slice:0:2">{{item.name}}</div>
  <div>{{movieDetails.runtime}}</div>
  <div>{{movieDetails.imdb_id}}</div>
  <div>{{movie.movieID}}</div>
  <ion-button (click)="openReviewModal()">Add Review</ion-button>

  <ion-segment mode="ios" [(ngModel)]="segmentModel" (ionChange)="segmentChanged($event)" color="light">
    <ion-segment-button value="info">
      <ion-label>Info</ion-label>
    </ion-segment-button>
    <ion-segment-button value="reviews">
      <ion-label>Reviews</ion-label>
    </ion-segment-button>
  </ion-segment>

  <div *ngIf="segmentModel === 'info'">
    {{movieDetails.overview}}
    <h1>Available On:</h1>
    <ion-text [hidden]="hideAvailabilityMessage">Not yet available in your chosen country</ion-text>
    <div *ngFor="let item of providersFlatrateArr.flatrate">
      <img src="{{logoUrl}}{{item.logo_path}}" />
    </div>
    <h2>Cast</h2>
    <ion-text animated style="width: 50%" [hidden]="hideCastMessage">Sorry, there is no information regarding cast
      members of this movie</ion-text>
    <div *ngFor="let item of creditsRes.cast | slice:0:16 ">
      {{item.name}}{{noCastErrorMsg}}
    </div>
    <h1>Trailer</h1>
    <img style="width: 240px" src="{{movieTrailerThumb}}" alt="Movie Trailer Thumbnail" />
  </div>
  <div *ngIf="segmentModel === 'reviews'">

    <ion-card *ngFor="let review of returnedReview">
      <ion-row>
        <ion-col size="4">
          <img style="width: 40px" src="{{review.data.authorPhoto}}" alt="Profile Picture" />
        </ion-col>
        <ion-col size="8">
          <ion-card-title>{{review.data.authorName}}</ion-card-title>
        </ion-col>
      </ion-row>
      <ion-card-subtitle>{{reviewDay}}{{reviewDate}}</ion-card-subtitle>
      <p>{{reviewTime}}</p>
      <ion-card-content>
        {{review.data.content}}
      </ion-card-content>
      <!-- <p>
        timeAGo.timeAgo({{dateTemp}})
      </p> -->
    </ion-card>
  </div>
</ion-content>