<h3>Rating Difference: {{combinedTotDiff}}</h3>
<ion-segment [(ngModel)]="segmentCategory">
  <ion-segment-button (click)="getCategory()" value="top10">
    Top 10
  </ion-segment-button>
  <ion-segment-button (click)="getCategory()" value="watchlist">
    Watchlist
  </ion-segment-button>
  <ion-segment-button (click)="getCategory()" value="received" class="user-profile__rec-segment" *ngIf="!hideRecTabs">
    Received
  </ion-segment-button>
  <ion-segment-button (click)="getCategory()" value="sent" class="user-profile__rec-segment" *ngIf="!hideRecTabs">
    Sent
  </ion-segment-button>
</ion-segment>

<div *ngIf="showTop10">
  <ion-item *ngFor="let movie of profileContent.top10; let i = index" class="ion-align-items-end" lines="none">
    <ion-grid>
      <ion-row (click)="viewMovie(movie.ID)" class="user-profile__card__row">
        <ion-col class="user-profile__card__number__col"><strong>{{i+1}}</strong></ion-col>
        <ion-col class="user-profile__card__movie-poster__col">
          <ion-img class="user-profile__card__movie-poster" [src]="movie.poster"></ion-img>
        </ion-col>
        <ion-col class="user-profile__card__movie-title__col">
          <!-- <ion-title>Hey</ion-title> -->
          <!-- <ion-card-title class="ion-margin-bottom"></ion-card-title> -->
          <ion-text>{{movie.title}}</ion-text>
        </ion-col>
      </ion-row>
    </ion-grid>
  </ion-item>
</div>
<div *ngIf="showWatchlist">
  <ion-list *ngFor="let movie of profileContent.watchlist; let i = index">
    <ion-grid>
      <ion-row (click)="viewMovie(movie.ID)" class="user-profile__card__row">
        <ion-col size="3">
          <ion-img [src]="movie.poster"> </ion-img>
        </ion-col>
        <ion-col size="9" class="user-profile__card__movie-title__col">
          <h2 class="ion-margin-bottom">{{movie.title}}</h2>
        </ion-col>
      </ion-row>
    </ion-grid>
  </ion-list>
</div>
<div *ngIf="showReceived">
  <div *ngIf="receivedRecs$ | async; else noneReceived; let recs">
    <span *ngFor="let rec of recs">
      <ion-item>
        <ion-grid>
          <ion-row>
            <ion-col size="3">
            </ion-col>
            <ion-col size="5" class="user-profile__card__movie-title__col">
            </ion-col>
            <ion-col size="2" class="user-profile__card__movie-title__col">
              <h6> Others</h6>
            </ion-col>
            <ion-col size="2" class="user-profile__card__movie-title__col">
              <h6> Your Rating:</h6>
            </ion-col>
          </ion-row>
          <ion-row>
            <ion-col size="3">
              <ion-img [src]="rec.moviePoster"> </ion-img>
            </ion-col>
            <ion-col size="5" class="user-profile__card__movie-title__col">
              <h2 class="ion-margin-bottom"> {{rec.movieTitle}}</h2>
            </ion-col>
            <ion-col size="2" class="user-profile__card__movie-title__col">
              <h2 class="ion-margin-bottom"> {{rec.senderRating}}</h2>
            </ion-col>
            <ion-col size="2" class="user-profile__card__movie-title__col">
              <h2 class="ion-margin-bottom"> {{rec.rateBack}}</h2>
            </ion-col>
          </ion-row>
        </ion-grid>
      </ion-item>
    </span>
  </div>
</div>
<div *ngIf="showSent">
  <div *ngIf="sentRecs$ | async; else noneSent; let recs">
    <span *ngFor="let rec of recs">
      <ion-item>
        <ion-grid>
          <ion-row>
            <ion-col size="3">
            </ion-col>
            <ion-col size="5" class="user-profile__card__movie-title__col">
            </ion-col>
            <ion-col size="2" class="user-profile__card__movie-title__col">
              <h6> Others</h6>
            </ion-col>
            <ion-col size="2" class="user-profile__card__movie-title__col">
              <h6> Your Rating:</h6>
            </ion-col>
          </ion-row>
          <ion-row>
            <ion-col size="3">
              <ion-img [src]="rec.moviePoster"> </ion-img>
            </ion-col>
            <ion-col size="5" class="user-profile__card__movie-title__col">
              <h2 class="ion-margin-bottom"> {{rec.movieTitle}}</h2>
            </ion-col>
            <ion-col size="2" class="user-profile__card__movie-title__col">
              <h2 class="ion-margin-bottom"> {{rec.rateBack}}</h2>
            </ion-col>
            <ion-col size="2" class="user-profile__card__movie-title__col">
              <h2 class="ion-margin-bottom"> {{rec.senderRating}}</h2>
            </ion-col>
          </ion-row>
        </ion-grid>
      </ion-item>
    </span>
  </div>
</div>
<ng-template #noneReceived>
  You have not received any recommendations to this person
</ng-template>
<ng-template #noneSent>
  You have not sent any recommendations to this person
</ng-template>
